<!DOCTYPE html>
<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">

    <title>哈码®️</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            max-width: 100%;
            margin: 0;
            padding: 15px;
            background: #f5f5f5;
            box-sizing: border-box;
        }

        .chip-card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .chip-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .chip-image {
            width: 64px;
            height: 64px;
            flex-shrink: 0;
        }

        .chip-image img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }

        .value-input {

            -webkit-appearance: none;
            appearance: none;
            border: none;
            border-radius: 0;
            border-bottom: 0.5px solid #aaa4a4;
            background-color: transparent;
            font-size: 24px;
            /* 增大字号 */
            font-weight: bold;
            color: #000;
            padding: 4px 4px;
            width: 72px;
            margin-left: auto;
            outline: none;
            text-align: center;
            /* 文字居中 */
            font-family: Monaco, -apple-system, system-ui, "SF Pro Display", sans-serif;
            /* 使用系统数字字体 */
            letter-spacing: 0.5px;
            /* 稍微增加字符间距 */
        }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2px;
        }

        .phrase {
            font-size: 18px;
            color: #2980b9;
            font-weight: 600;
        }

        .expand-btn {
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            width: 24px;
            height: 24px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            padding: 0;
        }

        .expand-btn {
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            width: 24px;
            height: 24px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            padding: 0;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='18' height='18'%3E%3Cpath fill='none' stroke='%23666666' stroke-width='2' stroke-linecap='round' d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
            background-position: center;
            background-repeat: no-repeat;
            background-size: 18px;
            transition: transform 0.2s ease;
        }

        .expand-btn:hover {
            background-color: #f5f5f5;
        }

        .expand-btn.active {
            transform: rotate(180deg);
        }


        .description {
            display: none;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #eee;
            font-size: 14px;
            line-height: 1.6;
        }

        .description.active {
            display: block;
        }

        .extra-chips {
            display: flex;
            justify-content: space-between;
        }

        .simple-chip-card {
            width: calc(50% - 20px);
            background: white;
            border-radius: 16px;
            padding: 16px 0 16px 16px;
        }


        .simple-chip-card .chip-info {
            display: flex;
            align-items: center;
            gap: 6px;
            width: 100%;
            overflow: hidden;
            /* 防止内容溢出 */
        }

        .simple-chip-card .value-input {
            width: 88px;
            min-width: 0;
            /* 允许input收缩 */
            margin-left: 10px;
            margin: 0px 16px 0 10px;
        }

        .collection-story {
            background: white;
            padding: 16px;
            border-radius: 16px;
            margin-top: 20px;
            font-size: 14px;
            line-height: 1.6;
        }

        @media screen and (max-width: 360px) {
            body {
                padding: 10px;
            }

            .chip-image {
                width: 48px;
                height: 48px;
            }

            .value-input {
                -webkit-appearance: none;
                appearance: none;
                border: none;
                border-radius: 0;
                border-bottom: 1.5px solid #333;
                background-color: transparent;
                font-size: 16px;
                font-weight: bold;
                color: #000;
                padding: 8px 4px;
                width: 120px;
                margin-left: auto;
                outline: none;
            }

            .phrase {
                font-size: 16px;
            }
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>哈码®️</h1>
    </div>

    <div class="chips-container">
        <div class="chip-card">
            <div class="chip-info">
                <div class="chip-image">
                    <img src="./3.png" alt="Poker Chip">
                </div>
                <input type="text" class="value-input" placeholder="">
            </div>
            <div class="header-row">
                <div class="phrase">Peace & Love</div>
                <button class="expand-btn" onclick="toggleDescription(this)"></button>
            </div>
            <div class="description">
                <p>代表初入牌场的纯真状态</p>
                <p>充满对游戏的热爱</p>
                <p>没有功利心的美好时光</p>
                <p>象征最初的平和心态</p>
            </div>
        </div>

        <div class="chip-card">
            <div class="chip-info">
                <div class="chip-image">
                    <img src="./4.png" alt="Poker Chip">
                </div>
                <input type="text" class="value-input" placeholder="">
            </div>
            <div class="header-row">
                <div class="phrase">Happy Hour</div>
                <button class="expand-btn" onclick="toggleDescription(this)"></button>
            </div>
            <div class="description">
                <p>暗示快乐的开始</p>
                <p>借用欢乐时光的概念</p>
                <p>体现轻松愉快的氛围</p>
                <p>暗示好运即将来临</p>
            </div>
        </div>

        <div class="chip-card">
            <div class="chip-info">
                <div class="chip-image">
                    <img src="./5.png" alt="Poker Chip">
                </div>
                <input type="text" class="value-input" placeholder="">
            </div>
            <div class="header-row">
                <div class="phrase">Bad Boy</div>
                <button class="expand-btn" onclick="toggleDescription(this)"></button>
            </div>
            <div class="description">
                <p>标志着心态的首次转变</p>
                <p>开始萌生投机想法</p>
                <p>象征纯真的消逝</p>
                <p>展现玩家的蜕变</p>
            </div>
        </div>

        <div class="chip-card">
            <div class="chip-info">
                <div class="chip-image">
                    <img src="./6.png" alt="Poker Chip">
                </div>
                <input type="text" class="value-input" placeholder="">
            </div>
            <div class="header-row">
                <div class="phrase">Gone Wild</div>
                <button class="expand-btn" onclick="toggleDescription(this)"></button>
            </div>
            <div class="description">
                <p>代表完全放飞自我</p>
                <p>展现无所顾忌的状态</p>
                <p>暗示理智的消退</p>
                <p>象征彻底进入状态</p>
            </div>
        </div>

        <div class="chip-card">
            <div class="chip-info">
                <div class="chip-image">
                    <img src="./7.png" alt="Poker Chip">
                </div>
                <input type="text" class="value-input" placeholder="">
            </div>
            <div class="header-row">
                <div class="phrase">To The Beach</div>
                <button class="expand-btn" onclick="toggleDescription(this)"></button>
            </div>
            <div class="description">
                <p>充满自嘲的豪放</p>
                <p>暗示破釜沉舟的决心</p>
                <p>展现豁达的生活态度</p>
                <p>"赢了就度假，输了也度假"的洒脱</p>
            </div>
        </div>

        <div class="chip-card">
            <div class="chip-info">
                <div class="chip-image">
                    <img src="./8.png" alt="Poker Chip">
                </div>
                <input type="text" class="value-input" placeholder="">
            </div>
            <div class="header-row">
                <div class="phrase">All In Or Buy In</div>
                <button class="expand-btn" onclick="toggleDescription(this)"></button>
            </div>
            <div class="description">
                <p>最终的抉择时刻</p>
                <p>要么梭哈要么追加</p>
                <p>体现德州扑克的本质</p>
                <p>人生选择的缩影</p>
            </div>
        </div>

        <div class="extra-chips">
            <div class="simple-chip-card simple-chip-card-left">
                <div class="chip-info">
                    <div class="chip-image">
                        <img src="./2.png" alt="Poker Chip">
                    </div>
                    <input type="text" class="value-input" placeholder="">
                </div>
            </div>
            <div class="simple-chip-card simple-chip-card-right">
                <div class="chip-info">
                    <div class="chip-image">
                        <img src="./1.png" alt="Poker Chip">
                    </div>
                    <input type="text" class="value-input" placeholder="">
                </div>
            </div>
        </div>

    </div>



    <div class="collection-story">
        <h2>收藏版筹码的故事</h2>
        <p>这套筹码不仅仅是游戏的道具，更是一个德州扑克玩家心路历程的完美写照。从最初的纯真平和，经历快乐时光，逐渐"变坏"尝试，到彻底放飞自我，再到看淡输赢的豁达，最终面临人生的终极抉择。</p>
        <p>每一个级别都代表着一个特定的阶段，一种特别的心境。玩家们能在这些标语中找到自己的影子，回忆起自己在牌桌上的点点滴滴。这不仅是一套筹码，更是一个关于成长、关于生活的完整故事。</p>
        <p>从 Peace & Love 到 All In Or Buy In，展现了一个德州扑克玩家从初入牌场到最终在得失之间找到平衡的全过程。每个标语都是一个独特的节点，共同构成了一个充满智慧与趣味的收藏系列。</p>
    </div>

    <div class="screenshot-container" style="width: 92%; max-width: 600px; margin: 15px auto;">
        <button id="screenshotBtn"
            style="width: 100%; padding: 12px; background: #2980b9; color: white; border: none; border-radius: 8px; font-size: 16px;">
            分享筹码设置
        </button>
    </div>

    <script>
        function toggleDescription(btn) {
            const desc = btn.closest('.chip-card').querySelector('.description');
            const isActive = desc.classList.toggle('active');
            btn.classList.toggle('active');
        }
    </script>
    <script>
        document.getElementById('screenshotBtn').addEventListener('click', async () => {
            const container = document.querySelector('.chips-container');
        
            const temp = document.createElement('div');
            temp.style.position = 'absolute';
            temp.style.left = '-9999px';
            temp.appendChild(container.cloneNode(true));
            document.body.appendChild(temp);
            
            try {
                const canvas = await html2canvas(temp);
                
                // 检测是否是iOS Safari
                const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
                
                if (isIOS) {
                    // 转换canvas为blob
                    canvas.toBlob(async (blob) => {
                        try {
                            // 使用share API
                            if (navigator.share) {
                                const file = new File([blob], "我的筹码设置.png", {
                                    type: "image/png"
                                });
                                
                                await navigator.share({
                                    files: [file],
                                    title: '我的筹码设置',
                                });
                            } else {
                                // 降级方案：直接打开图片
                                const imgUrl = canvas.toDataURL();
                                window.open(imgUrl);
                            }
                        } catch (err) {
                            console.error('保存失败:', err);
                            // 降级到默认下载方式
                            const link = document.createElement('a');
                            link.download = '我的筹码设置.png';
                            link.href = canvas.toDataURL();
                            link.click();
                        }
                    }, 'image/png');
                } else {
                    // 非iOS设备使用默认下载方式
                    const link = document.createElement('a');
                    link.download = '我的筹码设置.png';
                    link.href = canvas.toDataURL();
                    link.click();
                }
            } catch (err) {
                console.error('截图失败:', err);
            }
            
            document.body.removeChild(temp);
        });
        </script>
</body>

</html>